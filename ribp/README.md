# ribp 规范

规范目前还在起草中, 该文档描述一个可能的规范.

#### 数据交换规范

    - 数据全部使用小端序

#### 资源描述符规范

资源描述符由32位无符号表示, 0xFFFFFFFF是无效的描述符, 同一个会话期间, 描述符恒定不变, 多个描述符可指向同一个资源. 宿主机可以将描述符链接到ribp虚拟机,宿主机写描述符的数据将写到与之相连的端口 ribp虚拟机写端口的数据,将写到与之相连的描述符. 如下:
  
  - 宿主机将 `e5` 链接到 ribp 描述符 `r4`, 来至宿主机描述符 `e5` 的数据将写入到ribp描述符 `r4` 
  - 设备描述符 `d5` 连接到ribp 描述符 `r11` , ribp 写入 `r11` 的数据将传输到设备描述符 `d5`

```
┌──────────────────────────┐                                                                                                                    
│   Envice          RibpVM │       Device
│ ┌───────┐        ┌───────┤      ┌───────┐     
│ │     e1│-      -│r0   r6│-    -│d0     │   
│ │     e2│-      -│r1   r7│-    -│d1     │   
│ │     e3│-      -│r2   r8│-    -│d2     │   
│ │     e4│-      -│r3   r9│-    -│d3     │   
│ │     e5│------->│r4  r10│-    -│d4     │   
│ │     e6│-      -│r5  r11│----->│d5     │   
│ └───────┘        │       │      └───────┘   
└──────────────────┴───────┘    
```
